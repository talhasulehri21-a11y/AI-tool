
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OmniTools Suite</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                },
            },
        }
    </script>
    <link rel="preconnect" href="https://rsms.me/">
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <script type="importmap">
{
  "imports": {
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.16.0",
    "react": "https://aistudiocdn.com/react@^19.1.1",
    "react-dom/client": "https://aistudiocdn.com/react-dom@^19.1.1/client",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.1.1/",
    "react/": "https://aistudiocdn.com/react@^19.1.1/"
  }
}
</script>
</head>
<body>
    <div id="root"></div>
    <script type="module">
        import React, { useState, useEffect, useCallback, useRef, useMemo } from 'react';
        import ReactDOM from 'react-dom/client';
        import { GoogleGenAI } from "@google/genai";

        // --- Start: Consolidated Code ---

        // adsConfig.ts
        const adsConfig = {
          topBanner: 'YOUR_TOP_BANNER_AD_UNIT_ID',
          bottomBanner: 'YOUR_BOTTOM_BANNER_AD_UNIT_ID',
          popup: 'YOUR_POPUP_AD_UNIT_ID',
        };

        // components/icons/LogoIcon.tsx
        const LogoIcon = (props) => (
          React.createElement('svg', { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", ...props },
            React.createElement('path', { d: "M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" })
          )
        );

        // components/icons/CodeIcon.tsx
        const CodeIcon = (props) => (
          React.createElement('svg', { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", ...props },
            React.createElement('polyline', { points: "16 18 22 12 16 6" }),
            React.createElement('polyline', { points: "8 6 2 12 8 18" })
          )
        );

        // components/icons/DocumentIcon.tsx
        const DocumentIcon = (props) => (
            React.createElement('svg', { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", ...props },
                React.createElement('path', { d: "M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" }),
                React.createElement('polyline', { points: "14 2 14 8 20 8" }),
                React.createElement('line', { x1: "16", y1: "13", x2: "8", y2: "13" }),
                React.createElement('line', { x1: "16", y1: "17", x2: "8", y2: "17" }),
                React.createElement('polyline', { points: "10 9 9 9 8 9" })
            )
        );

        // components/icons/CalculatorIcon.tsx
        const CalculatorIcon = (props) => (
            React.createElement('svg', { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", ...props },
                React.createElement('rect', { x: "4", y: "2", width: "16", height: "20", rx: "2", ry: "2" }),
                React.createElement('line', { x1: "8", y1: "6", x2: "16", y2: "6" }),
                React.createElement('line', { x1: "12", y1: "10", x2: "12", y2: "18" }),
                React.createElement('line', { x1: "8", y1: "14", x2: "16", y2: "14" })
            )
        );

        // components/icons/TextIcon.tsx
        const TextIcon = (props) => (
            React.createElement('svg', { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", ...props },
                React.createElement('path', { d: "M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" })
            )
        );

        // components/icons/DeveloperIcon.tsx
        const DeveloperIcon = (props) => (
            React.createElement('svg', { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", ...props },
                React.createElement('polyline', { points: "16 18 22 12 16 6" }),
                React.createElement('polyline', { points: "8 6 2 12 8 18" }),
                React.createElement('line', { x1: "12", y1: "4", x2: "12", y2: "20" })
            )
        );

        // components/icons/ToolsIcon.tsx
        const ToolsIcon = (props) => (
            React.createElement('svg', { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", ...props },
                React.createElement('path', { d: "M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z" })
            )
        );

        // components/icons/CompressIcon.tsx
        const CompressIcon = (props) => (
            React.createElement('svg', { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", ...props },
                React.createElement('path', { d: "M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" }),
                React.createElement('polyline', { points: "14 2 14 8 20 8" }),
                React.createElement('line', { x1: "9", y1: "15", x2: "15", y2: "9" }),
                React.createElement('polyline', { points: "12 9 15 9 15 12" }),
                React.createElement('polyline', { points: "12 15 9 15 9 12" })
            )
        );

        // services/geminiService.ts
        let ai = null;
        const initializeGemini = (apiKey) => {
          if (!apiKey) {
            ai = null;
            return;
          }
          ai = new GoogleGenAI({ apiKey });
        };
        const getAiClient = () => {
          if (!ai) {
            throw new Error("Gemini API key not set or invalid. Please set your key in the sidebar.");
          }
          return ai;
        };
        const reviewCode = async (code, language) => {
          const prompt = `
            As an expert senior software engineer, please perform a thorough code review of the following ${language} code.
            Provide feedback on the following aspects:
            1.  **Bugs and Errors**: Identify potential bugs, logic errors, and edge cases that might have been missed.
            2.  **Performance**: Suggest optimizations for performance bottlenecks.
            3.  **Clarity and Readability**: Comment on code style, naming conventions, and overall readability. Suggest improvements to make the code more maintainable.
            4.  **Best Practices**: Check if the code follows established best practices and design patterns for ${language}.
            5.  **Security**: Point out any potential security vulnerabilities.

            Provide your feedback in Markdown format. Use headings, lists, and code blocks for clarity. Start with a brief summary of your findings.

            Here is the code to review:
            \`\`\`${language}
            ${code}
            \`\`\`
            `;
          try {
            const aiClient = getAiClient();
            const response = await aiClient.models.generateContent({
                model: 'gemini-2.5-flash',
                contents: prompt
            });
            return response.text;
          } catch (error) {
            console.error("Error reviewing code with Gemini:", error);
            if (error instanceof Error) {
                throw new Error(`An error occurred during the code review: ${error.message}`);
            }
            throw new Error("An unknown error occurred during the code review.");
          }
        };
        const generateImage = async (prompt) => {
          try {
            const aiClient = getAiClient();
            const response = await aiClient.models.generateImages({
                model: 'imagen-4.0-generate-001',
                prompt: prompt,
                config: {
                  numberOfImages: 1,
                  outputMimeType: 'image/jpeg',
                  aspectRatio: '1:1',
                },
            });
            if (response.generatedImages && response.generatedImages.length > 0) {
                const base64ImageBytes = response.generatedImages[0].image.imageBytes;
                return `data:image/jpeg;base64,${base64ImageBytes}`;
            } else {
                throw new Error("No image was generated.");
            }
          } catch (error) {
            console.error("Error generating image with Gemini:", error);
            if (error instanceof Error) {
                throw new Error(`An error occurred during image generation: ${error.message}`);
            }
            throw new Error("An unknown error occurred during image generation.");
          }
        };
        const summarizeText = async (text) => {
          const prompt = `
            Please summarize the following text concisely. Capture the main points and key information.
            The summary should be easy to read and understand.

            Text to summarize:
            ---
            ${text}
            ---
          `;
          try {
            const aiClient = getAiClient();
            const response = await aiClient.models.generateContent({
              model: 'gemini-2.5-flash',
              contents: prompt,
            });
            return response.text;
          } catch (error) {
            console.error("Error summarizing text with Gemini:", error);
            if (error instanceof Error) {
              throw new Error(`An error occurred during text summarization: ${error.message}`);
            }
            throw new Error("An unknown error occurred during text summarization.");
          }
        };

        // components/ApiKeyPrompt.tsx
        const ApiKeyPrompt = () => {
          return (
            React.createElement('div', { className: "flex flex-col items-center justify-center h-full text-center" },
              React.createElement('div', { className: "bg-yellow-50 dark:bg-yellow-900/50 border border-yellow-400 dark:border-yellow-600 rounded-lg p-8 max-w-lg" },
                React.createElement('svg', { className: "w-16 h-16 text-yellow-500 mx-auto mb-4", xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor" },
                  React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" })
                ),
                React.createElement('h2', { className: "text-2xl font-bold text-slate-800 dark:text-white mb-2" }, "API Key Required"),
                React.createElement('p', { className: "text-slate-600 dark:text-slate-400" },
                  "To use this tool, please enter your Gemini API Key in the settings panel in the sidebar."
                )
              )
            )
          );
        };
        
        // components/Ads.tsx
        const BannerAd = ({ slotId }) => {
          return (
            React.createElement('div', { className: "bg-slate-200 dark:bg-slate-700 text-center py-2 shrink-0" },
              React.createElement('p', { className: "text-sm text-slate-500 dark:text-slate-400" }, "Advertisement"),
              React.createElement('div', { className: "text-xs text-slate-400 dark:text-slate-500" }, `Slot ID: ${slotId}`)
            )
          );
        };

        const PopupAd = ({ slotId, isOpen, onClose }) => {
          if (!isOpen) {
            return null;
          }
          return (
            React.createElement('div', { className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50", 'aria-modal': "true", role: "dialog" },
              React.createElement('div', { className: "bg-white dark:bg-slate-800 rounded-lg shadow-2xl p-6 w-full max-w-md relative" },
                React.createElement('button', { onClick: onClose, className: "absolute top-2 right-2 text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-white", 'aria-label': "Close ad" },
                  React.createElement('svg', { xmlns: "http://www.w3.org/2000/svg", className: "h-6 w-6", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor" },
                    React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: "2", d: "M6 18L18 6M6 6l12 12" })
                  )
                ),
                React.createElement('div', { className: "text-center" },
                    React.createElement('h2', { className: "text-lg font-semibold mb-4 text-slate-800 dark:text-white" }, "Advertisement"),
                    React.createElement('div', { className: "bg-slate-200 dark:bg-slate-700 p-8 min-h-[250px] flex items-center justify-center rounded" },
                        React.createElement('div', null,
                            React.createElement('p', { className: "text-sm text-slate-500 dark:text-slate-400" }, "Pop-up Ad Content"),
                            React.createElement('div', { className: "text-xs text-slate-400 dark:text-slate-500 mt-1" }, `Slot ID: ${slotId}`)
                        )
                    )
                )
              )
            )
          );
        };
        
        // components/ReviewOutput.tsx
        const Spinner = () => (
          React.createElement('div', { className: "flex flex-col items-center justify-center h-full text-center" },
            React.createElement('svg', { className: "animate-spin -ml-1 mr-3 h-10 w-10 text-indigo-600", xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24" },
              React.createElement('circle', { className: "opacity-25", cx: "12", cy: "12", r: "10", stroke: "currentColor", strokeWidth: "4" }),
              React.createElement('path', { className: "opacity-75", fill: "currentColor", d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" })
            ),
            React.createElement('p', { className: "mt-4 text-slate-500 dark:text-slate-400" }, "Gemini is working...")
          )
        );

        const ReviewOutput = ({ review, isLoading, error }) => {
          const parseMarkdownToHTML = (text) => {
            let sanitized = text.replace(/</g, "&lt;").replace(/>/g, "&gt;");
            const parts = sanitized.split(/(\`{3}[\s\S]*?\`{3})/g);
            return parts.map((part) => {
              if (part.startsWith("```")) {
                const langMatch = part.match(/^\`{3}(\w*)\n/);
                const language = langMatch ? langMatch[1] : '';
                const code = part.replace(/^\`{3}\w*\n/, '').replace(/\`{3}$/, '');
                return `<pre class="bg-slate-200 dark:bg-slate-900 rounded-md p-4 text-sm overflow-x-auto my-4"><code class="language-${language}">${code}</code></pre>`;
              } else {
                return part
                  .replace(/^### (.*$)/gim, '<h3 class="text-xl font-semibold mt-4 mb-2 dark:text-white">$1</h3>')
                  .replace(/^## (.*$)/gim, '<h2 class="text-2xl font-bold mt-6 mb-3 border-b pb-2 dark:text-white dark:border-slate-600">$1</h2>')
                  .replace(/^# (.*$)/gim, '<h1 class="text-3xl font-bold mt-8 mb-4 border-b-2 pb-2 dark:text-white dark:border-slate-500">$1</h1>')
                  .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                  .replace(/\*(.*?)\*/g, '<em>$1</em>')
                  .replace(/^\s*[-*] (.*)/gim, '<li class="ml-6 list-disc">$1</li>')
                  .replace(/<\/li>\n<li/g, '</li><li')
                  .replace(/<li>/g, '<ul><li>')
                  .replace(/<\/li>(?!\s*<li)/g, '</li></ul>')
                  .replace(/\n/g, '<br />');
              }
            }).join('');
          };

          if (isLoading) {
            return React.createElement(Spinner);
          }
          if (error) {
            return (
              React.createElement('div', { className: "flex items-center justify-center h-full text-center text-red-500" },
                React.createElement('div', { className: "bg-red-100 dark:bg-red-900/50 border border-red-400 dark:border-red-600 rounded-md p-4" },
                  React.createElement('p', { className: "font-semibold" }, "An Error Occurred"),
                  React.createElement('p', { className: "text-sm" }, error)
                )
              )
            );
          }
          if (!review) {
            return (
              React.createElement('div', { className: "flex items-center justify-center h-full text-center" },
                React.createElement('p', { className: "text-slate-500 dark:text-slate-400" }, "Your result will appear here.")
              )
            );
          }
          return (
            React.createElement('div', {
              className: "prose prose-slate dark:prose-invert max-w-none",
              dangerouslySetInnerHTML: { __html: parseMarkdownToHTML(review) }
            })
          );
        };
        
        // components/CodeReviewer.tsx
        const CodeReviewer = () => {
          const languages = ["javascript", "python", "java", "csharp", "php", "cpp", "typescript", "go", "ruby", "swift", "kotlin", "rust", "sql", "html", "css"];
          const [code, setCode] = useState('');
          const [language, setLanguage] = useState('javascript');
          const [review, setReview] = useState('');
          const [isLoading, setIsLoading] = useState(false);
          const [error, setError] = useState('');

          const handleReview = useCallback(async () => {
            if (!code.trim()) {
              setError('Please enter some code to review.');
              return;
            }
            setIsLoading(true);
            setError('');
            setReview('');
            try {
              const result = await reviewCode(code, language);
              setReview(result);
            } catch (err) {
              setError(err instanceof Error ? `Failed to get review: ${err.message}` : 'An unknown error occurred.');
              console.error(err);
            } finally {
              setIsLoading(false);
            }
          }, [code, language]);

          return (
            React.createElement(React.Fragment, null,
              React.createElement('header', { className: "mb-6" },
                React.createElement('h1', { className: "text-3xl font-bold text-slate-900 dark:text-white" }, "AI Code Reviewer"),
                React.createElement('p', { className: "text-slate-500 dark:text-slate-400 mt-1" }, "Get instant feedback on your code from Gemini.")
              ),
              React.createElement('div', { className: "flex-1 grid grid-cols-1 lg:grid-cols-2 gap-8 overflow-hidden" },
                React.createElement('div', { className: "flex flex-col h-full" },
                  React.createElement('div', { className: "mb-4" },
                    React.createElement('label', { htmlFor: "language-select", className: "block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2" }, "Language"),
                    React.createElement('select', { id: "language-select", value: language, onChange: (e) => setLanguage(e.target.value), className: "w-full bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm p-2 focus:ring-indigo-500 focus:border-indigo-500" },
                      languages.map((lang) => React.createElement('option', { key: lang, value: lang, className: "capitalize" }, lang))
                    )
                  ),
                  React.createElement('div', { className: "flex-1 flex flex-col" },
                    React.createElement('label', { htmlFor: "code-input", className: "block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2" }, "Your Code"),
                    React.createElement('textarea', { id: "code-input", value: code, onChange: (e) => setCode(e.target.value), placeholder: "Paste your code here...", className: "flex-1 w-full p-3 font-mono text-sm bg-slate-50 dark:bg-slate-900 border border-slate-300 dark:border-slate-600 rounded-md resize-none focus:ring-indigo-500 focus:border-indigo-500" })
                  ),
                  React.createElement('div', { className: "mt-4" },
                    React.createElement('button', { onClick: handleReview, disabled: isLoading, className: "w-full inline-flex justify-center items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400 disabled:cursor-not-allowed transition-colors" },
                      isLoading ? 'Reviewing...' : 'Review Code'
                    )
                  )
                ),
                React.createElement('div', { className: "flex flex-col bg-slate-50 dark:bg-slate-900/70 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700" },
                  React.createElement('h2', { className: "text-lg font-semibold text-slate-800 dark:text-white p-4 border-b border-slate-200 dark:border-slate-700 shrink-0" }, "Review Feedback"),
                  React.createElement('div', { className: "flex-1 overflow-y-auto p-4" },
                    React.createElement(ReviewOutput, { review: review, isLoading: isLoading, error: error })
                  )
                )
              )
            )
          );
        };
        
        // components/ImageGenerator.tsx
        const ImageGenerator = () => {
          const [prompt, setPrompt] = useState('A photorealistic image of a cat wearing a spacesuit, high resolution');
          const [imageUrl, setImageUrl] = useState('');
          const [isLoading, setIsLoading] = useState(false);
          const [error, setError] = useState('');

          const handleGenerate = useCallback(async () => {
            if (!prompt.trim()) {
              setError('Please enter a prompt to generate an image.');
              return;
            }
            setIsLoading(true);
            setError('');
            setImageUrl('');
            try {
              const result = await generateImage(prompt);
              setImageUrl(result);
            } catch (err) {
              setError(err instanceof Error ? `Failed to generate image: ${err.message}` : 'An unknown error occurred.');
              console.error(err);
            } finally {
              setIsLoading(false);
            }
          }, [prompt]);

          return (
            React.createElement(React.Fragment, null,
              React.createElement('header', { className: "mb-6" },
                React.createElement('h1', { className: "text-3xl font-bold text-slate-900 dark:text-white" }, "AI Image Generator"),
                React.createElement('p', { className: "text-slate-500 dark:text-slate-400 mt-1" }, "Create stunning visuals with Gemini's image generation model.")
              ),
              React.createElement('div', { className: "flex-1 grid grid-cols-1 lg:grid-cols-2 gap-8 overflow-hidden" },
                React.createElement('div', { className: "flex flex-col h-full" },
                  React.createElement('div', { className: "flex-1 flex flex-col" },
                    React.createElement('label', { htmlFor: "prompt-input", className: "block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2" }, "Your Prompt"),
                    React.createElement('textarea', { id: "prompt-input", value: prompt, onChange: (e) => setPrompt(e.target.value), placeholder: "e.g., A photorealistic image of a cat wearing a spacesuit on Mars", className: "flex-1 w-full p-3 font-sans text-sm bg-slate-50 dark:bg-slate-900 border border-slate-300 dark:border-slate-600 rounded-md resize-none focus:ring-indigo-500 focus:border-indigo-500", rows: 5 })
                  ),
                  React.createElement('div', { className: "mt-4" },
                    React.createElement('button', { onClick: handleGenerate, disabled: isLoading, className: "w-full inline-flex justify-center items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400 disabled:cursor-not-allowed transition-colors" },
                      isLoading ? 'Generating...' : 'Generate Image'
                    )
                  )
                ),
                React.createElement('div', { className: "flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-900/70 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700 p-4" },
                  isLoading && React.createElement(Spinner),
                  error && React.createElement('div', { className: "text-center text-red-500" },
                    React.createElement('div', { className: "bg-red-100 dark:bg-red-900/50 border border-red-400 dark:border-red-600 rounded-md p-4" },
                      React.createElement('p', { className: "font-semibold" }, "An Error Occurred"),
                      React.createElement('p', { className: "text-sm" }, error)
                    )
                  ),
                  !isLoading && !error && imageUrl && React.createElement('img', { src: imageUrl, alt: prompt, className: "max-w-full max-h-full object-contain rounded-md" }),
                  !isLoading && !error && !imageUrl && React.createElement('div', { className: "text-center text-slate-500 dark:text-slate-400" }, React.createElement('p', null, "Your generated image will appear here."))
                )
              )
            )
          );
        };
        
        // components/ImageCompressor.tsx
        const ImageCompressor = () => {
            const formatBytes = (bytes, decimals = 2) => {
              if (bytes === 0) return '0 Bytes';
              const k = 1024;
              const dm = decimals < 0 ? 0 : decimals;
              const sizes = ['Bytes', 'KB', 'MB', 'GB'];
              const i = Math.floor(Math.log(bytes) / Math.log(k));
              return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];
            };
            
            const [originalImage, setOriginalImage] = useState(null);
            const [originalImageUrl, setOriginalImageUrl] = useState('');
            const [compressedImageUrl, setCompressedImageUrl] = useState('');
            const [quality, setQuality] = useState(75);
            const [originalSize, setOriginalSize] = useState(0);
            const [compressedSize, setCompressedSize] = useState(0);
            const [error, setError] = useState('');
            const fileInputRef = useRef(null);

            const handleImageChange = (file) => {
                if (!file.type.startsWith('image/')) {
                    setError('Please select a valid image file.');
                    return;
                }
                setError('');
                setOriginalImage(file);
                setOriginalSize(file.size);
                setOriginalImageUrl(URL.createObjectURL(file));
                setCompressedImageUrl('');
                setCompressedSize(0);
            };

            const handleFileSelect = (e) => {
                if (e.target.files && e.target.files[0]) {
                    handleImageChange(e.target.files[0]);
                }
            };
            
            const handleDrop = (e) => {
                e.preventDefault();
                e.stopPropagation();
                if (e.dataTransfer.files && e.dataTransfer.files[0]) {
                    handleImageChange(e.dataTransfer.files[0]);
                }
            };

            const handleCompress = useCallback(() => {
                if (!originalImage) return;
                const reader = new FileReader();
                reader.onload = (event) => {
                    const img = new Image();
                    img.onload = () => {
                        const canvas = document.createElement('canvas');
                        canvas.width = img.width;
                        canvas.height = img.height;
                        const ctx = canvas.getContext('2d');
                        if (!ctx) return;
                        ctx.drawImage(img, 0, 0);
                        canvas.toBlob((blob) => {
                            if (blob) {
                                setCompressedImageUrl(URL.createObjectURL(blob));
                                setCompressedSize(blob.size);
                            }
                        }, 'image/jpeg', quality / 100);
                    };
                    img.src = event.target?.result;
                };
                reader.readAsDataURL(originalImage);
            }, [originalImage, quality]);
            
            const handleDownload = () => {
                if (!compressedImageUrl) return;
                const a = document.createElement('a');
                a.href = compressedImageUrl;
                a.download = `compressed-${originalImage?.name.replace(/\.[^/.]+$/, "")}.jpg`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
            };

            const handleReset = () => {
                setOriginalImage(null);
                setOriginalImageUrl('');
                setCompressedImageUrl('');
                setQuality(75);
                setOriginalSize(0);
                setCompressedSize(0);
                setError('');
                if(fileInputRef.current) fileInputRef.current.value = '';
            };

            return React.createElement(React.Fragment, null,
                React.createElement('header', { className: "mb-6" },
                    React.createElement('h1', { className: "text-3xl font-bold text-slate-900 dark:text-white" }, "Image Compressor"),
                    React.createElement('p', { className: "text-slate-500 dark:text-slate-400 mt-1" }, "Reduce image file sizes without compromising quality.")
                ),
                React.createElement('div', { className: "flex-1 grid grid-cols-1 lg:grid-cols-2 gap-8 overflow-hidden" },
                    React.createElement('div', { className: "flex flex-col h-full" },
                        !originalImage ? (
                            React.createElement('div', { 
                                className: "flex-1 flex flex-col items-center justify-center border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg p-8 text-center cursor-pointer hover:border-indigo-500 transition-colors",
                                onClick: () => fileInputRef.current?.click(),
                                onDrop: handleDrop,
                                onDragOver: (e) => e.preventDefault()
                            },
                                React.createElement('input', { type: "file", ref: fileInputRef, onChange: handleFileSelect, accept: "image/*", className: "hidden" }),
                                React.createElement('svg', { className: "w-16 h-16 text-slate-400 mb-4", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", xmlns: "http://www.w3.org/2000/svg" }, React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: "2", d: "M7 16a4 4 0 01-4-4V6a4 4 0 014-4h10a4 4 0 014 4v6a4 4 0 01-4 4H7z" }), React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: "2", d: "M12 16v4m0 0l-2-2m2 2l2-2" })),
                                React.createElement('p', { className: "text-slate-500 dark:text-slate-400" }, "Drag & Drop Image Here"),
                                React.createElement('p', { className: "text-sm text-slate-400 dark:text-slate-500" }, "or Click to Browse"),
                                error && React.createElement('p', { className: "text-red-500 mt-2" }, error)
                            )
                        ) : (
                            React.createElement('div', { className: "flex flex-col h-full" },
                                React.createElement('div', { className: "relative mb-4 flex-1 flex items-center justify-center bg-slate-100 dark:bg-slate-900 rounded-lg p-2" },
                                   React.createElement('img', { src: originalImageUrl, alt: "Original", className: "max-w-full max-h-full object-contain rounded-md" })
                                ),
                                React.createElement('div', { className: "text-sm text-center mb-4" }, "Original Size: ", React.createElement('strong', null, formatBytes(originalSize))),
                                React.createElement('div', { className: "mb-4" },
                                    React.createElement('label', { htmlFor: "quality", className: "block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2" }, `Quality: ${quality}`),
                                    React.createElement('input', { type: "range", id: "quality", min: "1", max: "100", value: quality, onChange: (e) => setQuality(parseInt(e.target.value)), className: "w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer" })
                                ),
                                 React.createElement('button', { onClick: handleCompress, className: "w-full inline-flex justify-center items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors" }, "Compress")
                            )
                        )
                    ),
                    React.createElement('div', { className: "flex flex-col bg-slate-50 dark:bg-slate-900/70 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700" },
                        React.createElement('h2', { className: "text-lg font-semibold text-slate-800 dark:text-white p-4 border-b border-slate-200 dark:border-slate-700 shrink-0" }, "Result"),
                        React.createElement('div', { className: "flex-1 flex flex-col items-center justify-center p-4" },
                           compressedImageUrl ? (
                               React.createElement(React.Fragment, null,
                                    React.createElement('div', { className: "relative mb-4 flex-1 flex items-center justify-center w-full" },
                                        React.createElement('img', { src: compressedImageUrl, alt: "Compressed", className: "max-w-full max-h-full object-contain rounded-md" })
                                    ),
                                    React.createElement('div', { className: "text-center mb-4" },
                                        React.createElement('p', null, "Compressed Size: ", React.createElement('strong', { className: "text-green-500" }, formatBytes(compressedSize))),
                                        React.createElement('p', null, "Reduction: ", React.createElement('strong', { className: "text-green-500" }, `${(((originalSize - compressedSize) / originalSize) * 100).toFixed(2)}%`))
                                    ),
                                    React.createElement('div', { className: "w-full flex gap-4" },
                                        React.createElement('button', { onClick: handleDownload, className: "flex-1 inline-flex justify-center items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors" }, "Download"),
                                        React.createElement('button', { onClick: handleReset, className: "flex-1 inline-flex justify-center items-center px-6 py-3 border border-slate-300 dark:border-slate-600 text-base font-medium rounded-md shadow-sm text-slate-700 dark:text-slate-200 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors" }, "Reset")
                                    )
                               )
                           ) : (
                               React.createElement('p', { className: "text-slate-500 dark:text-slate-400 text-center" }, "Your compressed image will appear here.")
                           )
                        )
                    )
                )
            );
        };

        // components/DocumentSummarizer.tsx
        const DocumentSummarizer = () => {
          const [text, setText] = useState('');
          const [summary, setSummary] = useState('');
          const [isLoading, setIsLoading] = useState(false);
          const [error, setError] = useState('');

          const handleSummarize = useCallback(async () => {
            if (!text.trim()) {
              setError('Please enter some text to summarize.');
              return;
            }
            setIsLoading(true);
            setError('');
            setSummary('');
            try {
              const result = await summarizeText(text);
              setSummary(result);
            } catch (err) {
              setError(err instanceof Error ? `Failed to get summary: ${err.message}` : 'An unknown error occurred.');
              console.error(err);
            } finally {
              setIsLoading(false);
            }
          }, [text]);

          return (
            React.createElement(React.Fragment, null,
              React.createElement('header', { className: "mb-6" },
                React.createElement('h1', { className: "text-3xl font-bold text-slate-900 dark:text-white" }, "Document Summarizer"),
                React.createElement('p', { className: "text-slate-500 dark:text-slate-400 mt-1" }, "Get a concise summary of any text using Gemini.")
              ),
              React.createElement('div', { className: "flex-1 grid grid-cols-1 lg:grid-cols-2 gap-8 overflow-hidden" },
                React.createElement('div', { className: "flex flex-col h-full" },
                  React.createElement('div', { className: "flex-1 flex flex-col" },
                    React.createElement('label', { htmlFor: "text-input", className: "block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2" }, "Your Text"),
                    React.createElement('textarea', { id: "text-input", value: text, onChange: (e) => setText(e.target.value), placeholder: "Paste your document or text here...", className: "flex-1 w-full p-3 font-sans text-sm bg-slate-50 dark:bg-slate-900 border border-slate-300 dark:border-slate-600 rounded-md resize-none focus:ring-indigo-500 focus:border-indigo-500" })
                  ),
                  React.createElement('div', { className: "mt-4" },
                    React.createElement('button', { onClick: handleSummarize, disabled: isLoading, className: "w-full inline-flex justify-center items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400 disabled:cursor-not-allowed transition-colors" },
                      isLoading ? 'Summarizing...' : 'Summarize Text'
                    )
                  )
                ),
                React.createElement('div', { className: "flex flex-col bg-slate-50 dark:bg-slate-900/70 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700" },
                  React.createElement('h2', { className: "text-lg font-semibold text-slate-800 dark:text-white p-4 border-b border-slate-200 dark:border-slate-700 shrink-0" }, "Summary"),
                  React.createElement('div', { className: "flex-1 overflow-y-auto p-4" },
                    React.createElement(ReviewOutput, { review: summary, isLoading: isLoading, error: error })
                  )
                )
              )
            )
          );
        };

        // components/UnitConverter.tsx
        const UnitConverter = () => {
          const conversions = {
            length: { meter: 1, kilometer: 1000, centimeter: 0.01, millimeter: 0.001, mile: 1609.34, yard: 0.9144, foot: 0.3048, inch: 0.0254, },
            mass: { gram: 1, kilogram: 1000, milligram: 0.001, pound: 453.592, ounce: 28.3495, },
            temperature: { celsius: (c) => c, fahrenheit: (f) => (f - 32) * 5/9, kelvin: (k) => k - 273.15, },
          };
          const tempOutputConversions = { celsius: (c) => c, fahrenheit: (c) => (c * 9/5) + 32, kelvin: (c) => c + 273.15, };

          const [category, setCategory] = useState('length');
          const [inputValue, setInputValue] = useState('1');
          const [fromUnit, setFromUnit] = useState('meter');
          const [toUnit, setToUnit] = useState('foot');

          const handleCategoryChange = (e) => {
            const newCategory = e.target.value;
            setCategory(newCategory);
            const units = Object.keys(conversions[newCategory]);
            setFromUnit(units[0]);
            setToUnit(units[1] || units[0]);
            setInputValue('1');
          };

          const outputValue = useMemo(() => {
            const inputNum = parseFloat(inputValue);
            if (isNaN(inputNum)) return '';
            if (category === 'temperature') {
              const baseValue = conversions.temperature[fromUnit](inputNum);
              return tempOutputConversions[toUnit](baseValue).toFixed(2);
            } else {
              const categoryUnits = conversions[category];
              const baseValue = inputNum * categoryUnits[fromUnit];
              return (baseValue / categoryUnits[toUnit]).toFixed(5);
            }
          }, [inputValue, fromUnit, toUnit, category]);
          
          const units = Object.keys(conversions[category]);

          return (
            React.createElement(React.Fragment, null,
              React.createElement('header', { className: "mb-6" },
                React.createElement('h1', { className: "text-3xl font-bold text-slate-900 dark:text-white" }, "Unit Converter"),
                React.createElement('p', { className: "text-slate-500 dark:text-slate-400 mt-1" }, "Quickly convert between different units.")
              ),
              React.createElement('div', { className: "flex-1 flex items-center justify-center" },
                React.createElement('div', { className: "w-full max-w-lg p-8 space-y-6 bg-slate-50 dark:bg-slate-900/70 rounded-lg border border-slate-200 dark:border-slate-700" },
                  React.createElement('div', null,
                    React.createElement('label', { htmlFor: "category", className: "block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2" }, "Category"),
                    React.createElement('select', { id: "category", value: category, onChange: handleCategoryChange, className: "w-full bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm p-2 focus:ring-indigo-500 focus:border-indigo-500 capitalize" },
                      Object.keys(conversions).map(cat => React.createElement('option', { key: cat, value: cat }, cat))
                    )
                  ),
                  React.createElement('div', { className: "flex items-center gap-4" },
                    React.createElement('div', { className: "flex-1" },
                      React.createElement('label', { htmlFor: "fromUnit", className: "block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2" }, "From"),
                      React.createElement('select', { id: "fromUnit", value: fromUnit, onChange: e => setFromUnit(e.target.value), className: "w-full bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm p-2 focus:ring-indigo-500 focus:border-indigo-500 capitalize" },
                        units.map(unit => React.createElement('option', { key: unit, value: unit }, unit))
                      )
                    ),
                    React.createElement('div', { className: "flex-1" },
                      React.createElement('label', { htmlFor: "toUnit", className: "block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2" }, "To"),
                      React.createElement('select', { id: "toUnit", value: toUnit, onChange: e => setToUnit(e.target.value), className: "w-full bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm p-2 focus:ring-indigo-500 focus:border-indigo-500 capitalize" },
                        units.map(unit => React.createElement('option', { key: unit, value: unit }, unit))
                      )
                    )
                  ),
                  React.createElement('div', null,
                      React.createElement('label', { htmlFor: "inputValue", className: "block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2" }, "Input"),
                      React.createElement('input', { type: "number", id: "inputValue", value: inputValue, onChange: e => setInputValue(e.target.value), className: "w-full p-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500" })
                  ),
                  React.createElement('div', null,
                      React.createElement('p', { className: "text-lg font-medium text-slate-700 dark:text-slate-300" }, "Result:"),
                      React.createElement('p', { className: "text-3xl font-bold text-indigo-600 dark:text-indigo-400 break-all" }, outputValue)
                  )
                )
              )
            )
          );
        };

        // components/JsonFormatter.tsx
        const JsonFormatter = () => {
          const [jsonInput, setJsonInput] = useState('');
          const [formattedJson, setFormattedJson] = useState('');
          const [error, setError] = useState('');

          const handleFormat = useCallback(() => {
            if (!jsonInput.trim()) {
              setError('Please enter some JSON to format.');
              setFormattedJson('');
              return;
            }
            try {
              const formatted = JSON.stringify(JSON.parse(jsonInput), null, 2);
              setFormattedJson(formatted);
              setError('');
            } catch (e) {
              setError(e instanceof Error ? `Invalid JSON: ${e.message}` : 'An unknown error occurred.');
              setFormattedJson('');
            }
          }, [jsonInput]);

          return (
            React.createElement(React.Fragment, null,
              React.createElement('header', { className: "mb-6" },
                React.createElement('h1', { className: "text-3xl font-bold text-slate-900 dark:text-white" }, "JSON Formatter"),
                React.createElement('p', { className: "text-slate-500 dark:text-slate-400 mt-1" }, "Paste your JSON data to validate and format it instantly.")
              ),
              React.createElement('div', { className: "flex-1 grid grid-cols-1 lg:grid-cols-2 gap-8 overflow-hidden" },
                React.createElement('div', { className: "flex flex-col h-full" },
                  React.createElement('div', { className: "flex-1 flex flex-col" },
                    React.createElement('label', { htmlFor: "json-input", className: "block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2" }, "Your JSON"),
                    React.createElement('textarea', { id: "json-input", value: jsonInput, onChange: (e) => setJsonInput(e.target.value), placeholder: '{ "key": "value", "nested": { "number": 123 } }', className: "flex-1 w-full p-3 font-mono text-sm bg-slate-50 dark:bg-slate-900 border border-slate-300 dark:border-slate-600 rounded-md resize-none focus:ring-indigo-500 focus:border-indigo-500", spellCheck: "false" })
                  ),
                  React.createElement('div', { className: "mt-4" },
                    React.createElement('button', { onClick: handleFormat, className: "w-full inline-flex justify-center items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors" }, "Format JSON")
                  )
                ),
                React.createElement('div', { className: "flex flex-col bg-slate-50 dark:bg-slate-900/70 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700" },
                  React.createElement('h2', { className: "text-lg font-semibold text-slate-800 dark:text-white p-4 border-b border-slate-200 dark:border-slate-700 shrink-0" }, "Formatted Output"),
                  React.createElement('div', { className: "flex-1 overflow-auto p-4" },
                    error && React.createElement('div', { className: "text-center text-red-500 bg-red-100 dark:bg-red-900/50 border border-red-400 dark:border-red-600 rounded-md p-4" }, React.createElement('p', { className: "font-semibold" }, "Error"), React.createElement('p', { className: "text-sm" }, error)),
                    !error && formattedJson && React.createElement('pre', { className: "text-sm font-mono whitespace-pre-wrap break-all" }, React.createElement('code', null, formattedJson)),
                    !error && !formattedJson && React.createElement('p', { className: "text-slate-500 dark:text-slate-400 text-center" }, "Your formatted JSON will appear here.")
                  )
                )
              )
            )
          );
        };

        // components/RegexTester.tsx
        const RegexTester = () => {
          const [pattern, setPattern] = useState('\\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}\\b');
          const [flags, setFlags] = useState({ g: true, i: true, m: false });
          const [testString, setTestString] = useState('Contact us at support@example.com or sales@example.org for more info.');
          
          const { matches, error } = useMemo(() => {
            if (!pattern) return { matches: [], error: null };
            try {
              const flagsString = Object.keys(flags).filter(f => flags[f]).join('');
              const regex = new RegExp(pattern, flagsString);
              return { matches: Array.from(testString.matchAll(regex)), error: null };
            } catch (e) {
              return { matches: [], error: e.message };
            }
          }, [pattern, flags, testString]);

          return (
            React.createElement(React.Fragment, null,
              React.createElement('header', { className: "mb-6" },
                React.createElement('h1', { className: "text-3xl font-bold text-slate-900 dark:text-white" }, "Regex Tester"),
                React.createElement('p', { className: "text-slate-500 dark:text-slate-400 mt-1" }, "Test your regular expressions in real-time.")
              ),
              React.createElement('div', { className: "flex-1 flex flex-col overflow-hidden gap-4" },
                React.createElement('div', { className: "flex gap-4" },
                  React.createElement('div', { className: "flex-1" },
                    React.createElement('label', { htmlFor: "pattern", className: "text-sm font-medium text-slate-700 dark:text-slate-300" }, "Regular Expression"),
                    React.createElement('input', { id: "pattern", type: "text", value: pattern, onChange: e => setPattern(e.target.value), className: `w-full p-2 mt-1 font-mono text-sm bg-slate-50 dark:bg-slate-700 border rounded-md focus:ring-indigo-500 focus:border-indigo-500 ${error ? 'border-red-500' : 'border-slate-300 dark:border-slate-600'}` })
                  ),
                  React.createElement('div', { className: "flex items-end gap-4" },
                    Object.keys(flags).map(flag => React.createElement('label', { key: flag, className: "flex items-center gap-2 cursor-pointer" },
                      React.createElement('input', { type: "checkbox", checked: flags[flag], onChange: () => setFlags(prev => ({ ...prev, [flag]: !prev[flag] })), className: "h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500" }),
                      React.createElement('span', { className: "font-mono text-sm" }, flag)
                    ))
                  )
                ),
                error && React.createElement('p', { className: "text-red-500 text-sm" }, error),
                React.createElement('div', null,
                  React.createElement('label', { htmlFor: "testString", className: "text-sm font-medium text-slate-700 dark:text-slate-300" }, "Test String"),
                  React.createElement('textarea', { id: "testString", value: testString, onChange: e => setTestString(e.target.value), className: "w-full p-2 mt-1 font-mono text-sm bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md resize-y focus:ring-indigo-500 focus:border-indigo-500 h-32" })
                ),
                React.createElement('div', { className: "flex-1 flex flex-col bg-slate-50 dark:bg-slate-900/70 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700" },
                  React.createElement('h2', { className: "text-lg font-semibold text-slate-800 dark:text-white p-4 border-b border-slate-200 dark:border-slate-700 shrink-0" }, `Matches (${matches.length})`),
                  React.createElement('div', { className: "flex-1 overflow-y-auto p-4" },
                    matches.length > 0 ? (
                      React.createElement('ul', { className: "space-y-2" }, matches.map((match, i) => React.createElement('li', { key: i, className: "p-2 bg-slate-100 dark:bg-slate-800 rounded-md" },
                        React.createElement('span', { className: "font-mono text-sm text-indigo-600 dark:text-indigo-400 bg-indigo-100 dark:bg-indigo-900/50 px-1 py-0.5 rounded" }, match[0]),
                        React.createElement('span', { className: "text-xs text-slate-500 ml-2" }, `(index: ${match.index})`)
                      )))
                    ) : (React.createElement('p', { className: "text-slate-500 dark:text-slate-400 text-center" }, "No matches found."))
                  )
                )
              )
            )
          );
        };
        
        // components/PasswordGenerator.tsx
        const PasswordGenerator = () => {
          const charset = { lowercase: 'abcdefghijklmnopqrstuvwxyz', uppercase: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', numbers: '0123456789', symbols: '!@#$%^&*()_+~`|}{[]:;?><,./-=' };
          const [password, setPassword] = useState('');
          const [length, setLength] = useState(16);
          const [options, setOptions] = useState({ uppercase: true, numbers: true, symbols: true });
          const [copied, setCopied] = useState(false);

          const generatePassword = useCallback(() => {
            let availableChars = charset.lowercase;
            if (options.uppercase) availableChars += charset.uppercase;
            if (options.numbers) availableChars += charset.numbers;
            if (options.symbols) availableChars += charset.symbols;
            let newPassword = '';
            for (let i = 0; i < length; i++) {
              newPassword += availableChars[Math.floor(Math.random() * availableChars.length)];
            }
            setPassword(newPassword);
            setCopied(false);
          }, [length, options]);

          useEffect(() => {
            generatePassword();
          }, [generatePassword]);
          
          const handleCopy = () => {
            navigator.clipboard.writeText(password);
            setCopied(true);
            setTimeout(() => setCopied(false), 2000);
          };
          
          return (
            React.createElement(React.Fragment, null,
              React.createElement('header', { className: "mb-6" },
                React.createElement('h1', { className: "text-3xl font-bold text-slate-900 dark:text-white" }, "Password Generator"),
                React.createElement('p', { className: "text-slate-500 dark:text-slate-400 mt-1" }, "Create strong, secure, and random passwords.")
              ),
              React.createElement('div', { className: "flex-1 flex items-center justify-center" },
                React.createElement('div', { className: "w-full max-w-lg p-8 space-y-6 bg-slate-50 dark:bg-slate-900/70 rounded-lg border border-slate-200 dark:border-slate-700" },
                  React.createElement('div', { className: "relative" },
                    React.createElement('input', { type: "text", value: password, readOnly: true, className: "w-full p-4 font-mono text-lg bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-md pr-24", 'aria-label': "Generated Password" }),
                    React.createElement('button', { onClick: handleCopy, className: "absolute inset-y-0 right-0 px-4 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-200" }, copied ? 'Copied!' : 'Copy')
                  ),
                  React.createElement('div', { className: "space-y-4" },
                    React.createElement('div', { className: "flex items-center justify-between" },
                      React.createElement('label', { htmlFor: "length", className: "font-medium" }, "Password Length"),
                      React.createElement('span', { className: "text-lg font-bold text-indigo-600 dark:text-indigo-400" }, length)
                    ),
                    React.createElement('input', { id: "length", type: "range", min: "8", max: "64", value: length, onChange: e => setLength(parseInt(e.target.value)), className: "w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer" })
                  ),
                  React.createElement('div', { className: "grid grid-cols-1 sm:grid-cols-3 gap-4" },
                    Object.keys(options).map(opt => React.createElement('label', { key: opt, className: "flex items-center gap-2 p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-md cursor-pointer" },
                      React.createElement('input', { type: "checkbox", checked: options[opt], onChange: () => setOptions(prev => ({...prev, [opt]: !prev[opt]})), className: "h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500" }),
                      React.createElement('span', { className: 'capitalize' }, opt)
                    ))
                  ),
                   React.createElement('button', { onClick: generatePassword, className: "w-full inline-flex justify-center items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors" }, "Generate New Password")
                )
              )
            )
          );
        };
        
        // components/Sidebar.tsx
        const Sidebar = ({ isDarkMode, setIsDarkMode, activeTool, onNavClick, apiKey, onApiKeySave }) => {
          const navItems = [
            { name: 'Code Reviewer', icon: CodeIcon },
            { name: 'Image Generator', icon: DocumentIcon },
            { name: 'Image Compressor', icon: CompressIcon },
            { name: 'Document Summarizer', icon: DocumentIcon },
            { name: 'Unit Converter', icon: CalculatorIcon },
            { name: 'JSON Formatter', icon: TextIcon },
            { name: 'Regex Tester', icon: DeveloperIcon },
            { name: 'Password Generator', icon: ToolsIcon },
          ];
          const [localApiKey, setLocalApiKey] = useState(apiKey);
          const [showSaved, setShowSaved] = useState(false);

          useEffect(() => { setLocalApiKey(apiKey); }, [apiKey]);
          
          const handleSaveClick = () => {
            onApiKeySave(localApiKey);
            setShowSaved(true);
            setTimeout(() => setShowSaved(false), 2000);
          };

          return (
            React.createElement('aside', { className: "w-64 bg-white dark:bg-slate-800 rounded-2xl shadow-lg flex flex-col p-4 h-full" },
              React.createElement('div', { className: "flex items-center gap-2 p-4 border-b border-slate-200 dark:border-slate-700" },
                React.createElement(LogoIcon, { className: "w-8 h-8 text-indigo-600" }),
                React.createElement('h1', { className: "text-xl font-bold text-slate-800 dark:text-white" }, "OmniTools")
              ),
              React.createElement('nav', { className: "flex-1 mt-4 overflow-y-auto" },
                React.createElement('ul', null,
                  navItems.map((item) => {
                    const isActive = item.name === activeTool;
                    return (
                      React.createElement('li', { key: item.name },
                        React.createElement('button', { onClick: () => onNavClick(item.name), className: `flex items-center gap-3 px-4 py-2 my-1 rounded-lg transition-colors w-full text-left ${isActive ? 'bg-indigo-100 dark:bg-indigo-500/20 text-indigo-700 dark:text-indigo-300' : 'text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700'}`, 'aria-current': isActive ? 'page' : undefined },
                          React.createElement(item.icon, { className: "w-5 h-5" }),
                          React.createElement('span', { className: "font-medium text-sm" }, item.name),
                          isActive && React.createElement('div', { className: "w-1 h-4 bg-indigo-500 rounded-full ml-auto" })
                        )
                      )
                    );
                  })
                )
              ),
              React.createElement('div', { className: "mt-auto p-4 border-t border-slate-200 dark:border-slate-700 space-y-4" },
                React.createElement('div', null,
                  React.createElement('label', { htmlFor: "api-key", className: "block text-sm font-medium text-slate-600 dark:text-slate-400 mb-1" }, "Gemini API Key"),
                  React.createElement('div', { className: "flex gap-2" },
                    React.createElement('input', { id: "api-key", type: "password", value: localApiKey, onChange: (e) => setLocalApiKey(e.target.value), placeholder: "Enter your API key", className: "flex-1 w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm p-1.5 text-xs focus:ring-indigo-500 focus:border-indigo-500" }),
                    React.createElement('button', { onClick: handleSaveClick, className: "px-3 py-1 text-xs font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" }, showSaved ? 'Saved!' : 'Save')
                  )
                ),
                React.createElement('div', { className: "flex items-center justify-between" },
                  React.createElement('span', { className: "text-sm font-medium text-slate-600 dark:text-slate-400" }, "Dark Mode"),
                  React.createElement('button', { onClick: () => setIsDarkMode(!isDarkMode), 'aria-pressed': isDarkMode, className: `relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${isDarkMode ? 'bg-indigo-600' : 'bg-gray-200'}` },
                    React.createElement('span', { className: `inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${isDarkMode ? 'translate-x-6' : 'translate-x-1'}` })
                  )
                )
              )
            )
          );
        };
        
        // App.tsx
        const App = () => {
          const POPUP_AD_TRIGGER_COUNT = 3;
          const AI_TOOLS = ['Code Reviewer', 'Image Generator', 'Document Summarizer'];
          const DEFAULT_API_KEY = "AIzaSyA-m-Ka093qVIYzwP7Haj3_TA0IcRiD-jc";

          const [isDarkMode, setIsDarkMode] = useState(false);
          const [activeTool, setActiveTool] = useState('Code Reviewer');
          const [isPopupVisible, setPopupVisible] = useState(false);
          const [navigationCount, setNavigationCount] = useState(0);
          const [apiKey, setApiKey] = useState('');

          useEffect(() => {
            const storedKey = localStorage.getItem('gemini-api-key');
            setApiKey(storedKey || DEFAULT_API_KEY);
            if (!storedKey) {
                localStorage.setItem('gemini-api-key', DEFAULT_API_KEY);
            }
            setIsDarkMode(localStorage.getItem('dark-mode') === 'true');
          }, []);

          useEffect(() => {
            if (apiKey) {
              initializeGemini(apiKey);
            }
          }, [apiKey]);
          
          useEffect(() => {
            if (isDarkMode) {
              document.documentElement.classList.add('dark');
              localStorage.setItem('dark-mode', 'true');
            } else {
              document.documentElement.classList.remove('dark');
              localStorage.setItem('dark-mode', 'false');
            }
          }, [isDarkMode]);

          const handleApiKeySave = (newKey) => {
            setApiKey(newKey);
            localStorage.setItem('gemini-api-key', newKey);
          };

          const handleNavClick = useCallback((toolName) => {
            setActiveTool(toolName);
            const newNavCount = navigationCount + 1;
            setNavigationCount(newNavCount);

            if (newNavCount >= POPUP_AD_TRIGGER_COUNT) {
              setPopupVisible(true);
              setNavigationCount(0);
            }
          }, [navigationCount]);

          const renderTool = () => {
            if (AI_TOOLS.includes(activeTool) && !apiKey) {
              return React.createElement(ApiKeyPrompt);
            }
            switch (activeTool) {
              case 'Code Reviewer': return React.createElement(CodeReviewer);
              case 'Image Generator': return React.createElement(ImageGenerator);
              case 'Image Compressor': return React.createElement(ImageCompressor);
              case 'Document Summarizer': return React.createElement(DocumentSummarizer);
              case 'Unit Converter': return React.createElement(UnitConverter);
              case 'JSON Formatter': return React.createElement(JsonFormatter);
              case 'Regex Tester': return React.createElement(RegexTester);
              case 'Password Generator': return React.createElement(PasswordGenerator);
              default: return React.createElement(CodeReviewer);
            }
          };

          return (
            React.createElement('div', { className: `flex h-screen bg-slate-100 dark:bg-slate-900 text-slate-800 dark:text-slate-200 font-sans transition-colors duration-300 ${isDarkMode ? 'dark' : ''}` },
              React.createElement('div', { className: "p-4" },
                React.createElement(Sidebar, { isDarkMode, setIsDarkMode, activeTool, onNavClick: handleNavClick, apiKey, onApiKeySave: handleApiKeySave })
              ),
              React.createElement('main', { className: "flex-1 flex flex-col p-8 overflow-hidden" },
                React.createElement('div', { className: "bg-white dark:bg-slate-800 rounded-2xl shadow-lg flex-1 flex flex-col overflow-hidden" },
                  React.createElement(BannerAd, { slotId: adsConfig.topBanner }),
                  React.createElement('div', { className: "flex-1 p-8 overflow-hidden flex flex-col" }, renderTool()),
                  React.createElement(BannerAd, { slotId: adsConfig.bottomBanner })
                )
              ),
              React.createElement(PopupAd, { slotId: adsConfig.popup, isOpen: isPopupVisible, onClose: () => setPopupVisible(false) })
            )
          );
        };

        // index.tsx (Entry point)
        const rootElement = document.getElementById('root');
        if (!rootElement) {
          throw new Error("Could not find root element to mount to");
        }
        const root = ReactDOM.createRoot(rootElement);
        root.render(React.createElement(App));

        // --- End: Consolidated Code ---
    </script>
</body>
</html>
